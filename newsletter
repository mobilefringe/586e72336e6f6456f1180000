<style>
    #cm-name, #fieldEmail_newsletter {
        margin-bottom: 20px;
        width: 50%;
        border: 1px solid #58595b;
        box-shadow: none;
    }
</style>
<div class="newsletter_banner text-center">
    <h3>NEWSLETTER SIGN-UP</h3>
    <p>explore • enjoy • shop</p>
</div>
<div class="margin_20"></div>
<div class="content_container main_container mobile_padding">
    <div class="margin_25_across">
        <div class="row">
            <div class="col-md-12">
                <p>Be the first to know! Sign up to receive the latest Londonderry Mall updates including contests, events and promotions.</p>
                <div class="margin_20"></div>
            </div>
        </div>
        <div class="row">
            <form id="newsletter_form" action="" method="post">
                <div class="col-md-12">
                    <label for="cm-name">Full Name *</label> 
                    <br/>
                    <input  type="text" required  title="fullname newsletter" class="newletter-hidden" id="cm-name" name="cm-name" />
                    <div class="margin_20"></div>
                </div>
                <div class="col-md-12">
                    <label for="fieldEmail_newsletter">Email *</label> 
                    <br/>
                    <input class="email-newsletter"  id="fieldEmail_newsletter" name="cm-ykddht-ykddht" type="email" required />
                    <div class="margin_20"></div>
                </div>
                <div class="col-md-12">
                    <p style="font-size: 13px;">
                        <input type="checkbox" id ="agree_newsletter_page" style="margin-right:3px;">
                        <label for="agree_newsletter_page" style="display: inline; font-weight: normal;">I agree to receive newsletters from Londonderry Mall via electronic messaging; and I acknowledge that I have read and understand the <a style="color:#581d37" target="_blank" href="/privacy_policy">Privacy Terms &amp; Conditions</a>.</label>
                            
                    </p>
                    <div>     
                        <input class="newsletter_btn animated_btn" name="commit" type="submit" value="SUBMIT" style="width:150px;" />            
                    </div> 
                    <div class="margin_20"></div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function(e){
        init(e);
        show_content();
    })
    
    $("#newsletter_form").submit(function( e ) {
        e.preventDefault();
        
        var error_string ="";
        var errors = 0;

        if ($("#cm-name").val() == "") {
            error_string += ("Please enter your full name.\n ") 
            errors = errors +1;
        }
        if ($("#fieldEmail_newsletter").val() == ""); {
            error_string += ("Please enter your email address.\n");
            errors = errors +1;
        }
        
        if ($("##agree_newsletter_page").prop("checked") != true) {
            error_string += ("Please agree to receive newsletters from Londonderry Mall.\n");
            errors = errors +1;
        } 

        if (errors > 0) {
            alert(error_string);
            return false;
        }
    
        // if ($("#agree_newsletter_page").prop("checked") != true){
        //     alert("Please agree to receive our newsletter.");
        //     $("#agree_newsletter_page").focus();
        } else {
            $.getJSON(
                this.action + "?callback=?",
                $(this).serialize(),
                function (data) {
                    if (data.Status === 400) {
                        alert("Please try again later.");
                    } else { // 200
                        alert("Thank you for subscribing to our newsletter.");
                        $('#newsletter_form').trigger('reset')
                    }
            });
        }
    });
</script>